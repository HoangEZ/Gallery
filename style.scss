* {
  margin: 0;
  padding: 0;
}
.container {
  padding: 100px;
}
.gallery-div {
  width: 500px;
  height: 500px;
}
.left {
  .divide-outer {
    position: relative;
    transform-style: preserve-3d;
    // transform: rotateY(45deg);
    .divide {
      position: absolute;
      top: 0;
      left: 0;
      &:first-of-type {
        transform:translateZ(250px);
      }
    }

    &:nth-child(2n+1) {
      .divide:last-of-type {
        transform: rotateY(90deg) translateZ(250px);
      }
    }
    &:nth-child(2n) {
      .divide:last-of-type {
        transform: rotateY(-90deg) translateZ(250px);
      }
    }
  }
}
.right {
  .divide-outer {
    position: relative;
    transform-style: preserve-3d;
    // transform: rotateY(45deg);
    .divide {
      position: absolute;
      top: 0;
      left: 0;
      &:first-of-type {
        transform:translateZ(250px);
      }
    }

    &:nth-child(2n+1) {
      .divide:last-of-type {
        transform: rotateY(-90deg) translateZ(250px);
      }
    }
    &:nth-child(2n) {
      .divide:last-of-type {
        transform: rotateY(90deg) translateZ(250px);
      }
    }
  }
}
.active{
  &.left{
  .divide-outer {
    transition: transform 1s ease-in-out;
    &:nth-child(2n+1) {
      transform: rotateY(-90deg);
    }
    &:nth-child(2n) {
      transform: rotateY(90deg);
    }
  }
  }
  &.right{
    .divide-outer {
      transition: transform 1s ease-in-out;
      &:nth-child(2n+1) {
        transform: rotateY(90deg);
      }
      &:nth-child(2n) {
        transform: rotateY(-90deg);
      }
    }
    }
}